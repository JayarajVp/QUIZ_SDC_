<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Questions</title>
    <script>
        async function addQuestion() {
            const question = document.getElementById('question').value;
            const answers = [...document.querySelectorAll('input[name="answer"]')].map(input => input.value);
            const correctAnswer = document.querySelector('input[name="correct"]:checked').value;

            const questionData = {
                question,
                answers,
                correctAnswer
            };

            // Load existing questions
            let existingQuestions = [];
            try {
                const response = await fetch('questions.json');
                existingQuestions = await response.json();
            } catch (e) {
                console.error("Error loading questions:", e);
            }

            // Add new question to the array
            existingQuestions.push(questionData);

            // Save updated questions back to questions.json
            const blob = new Blob([JSON.stringify(existingQuestions, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'questions.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        async function clearQuestions() {
            const emptyQuestions = [];
            const blob = new Blob([JSON.stringify(emptyQuestions, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'questions.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            console.log("All questions cleared");
        }

        async function clearResults() {
            const emptyResults = [];
            const blob = new Blob([JSON.stringify(emptyResults, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'results.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            console.log("All results cleared");
        }
    </script>
</head>
<body>
    <h1>Add Question</h1>
    <input type="text" id="question" placeholder="Enter your question" required>
    <input type="text" name="answer" placeholder="Answer 1" required>
    <input type="text" name="answer" placeholder="Answer 2" required>
    <input type="text" name="answer" placeholder="Answer 3" required>
    <input type="text" name="answer" placeholder="Answer 4" required>
    <input type="radio" name="correct" value="Answer 1" required> Correct Answer 1
    <input type="radio" name="correct" value="Answer 2"> Correct Answer 2
    <input type="radio" name="correct" value="Answer 3"> Correct Answer 3
    <input type="radio" name="correct" value="Answer 4"> Correct Answer 4
    <button onclick="addQuestion()">Add Question</button>
    <button onclick="clearQuestions()">Clear All Questions</button>
    <button onclick="clearResults()">Clear All Results</button>
</body>
</html>
